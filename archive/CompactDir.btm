@echo off
SetLocal

REM Arguments
if %@IsHelpArg[%@UnQuote[%1]] == 1 goto usage

if %# != 1 goto usage

set dir=%@UnQuote[%1]

if not IsDir "%dir" quit 1

iff %@WAttrib["%dir",c] == 0 then
	echo.
	echo Compressing %@name[%dir] directory...
  compact /c /s:"%dir"
	quit %?
endiff

quit 0

:usage
text 1>&2
usage: CompactDir dir
endtext
quit 1
