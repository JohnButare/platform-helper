@echo off
SetLocal

REM Initialize
on break cancel 1

REM Arguments
if %@IsHelpArg[%@UnQuote[%1]] == 1 .or. %# lt 2 goto usage

set variable=%1
shift

set try=%$

set %variable=

for file in (%try) ^
(
	iff IsFile "%file" then
		set %variable=%@UnQuote[%file]
		LeaveFor
	endiff
)

EndLocal /d %variable
quit 0

:usage
text 1>&2
Find a file that is one of the passed locations and set it to variable
usage: FindFile <variable> <files>
endtext
quit 2

